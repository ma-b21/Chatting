IFNDEF UTILS_HEADER
UTILS_HEADER PROTO

include 		masm32rt.inc
include 		ws2_32.inc
includelib 		masm32.lib
includelib 		ws2_32.lib

;==================== Function =====================
;----------------------------------------------
; MainWinProc:Handle Main Window Message
;     args1:hWin:HWND,
;     args2:uMsg:UINT,
;     args3:wParam:WPARAM,
;     args4:lParam:LPARAM
;     ret:0 if the message handled successfully
;----------------------------------------------
CreateSocketForServer		PROTO,
	:DWORD

ConnectSocketForClient       PROTO,
	:DWORD,:PTR BYTE
;=================== STRUCTURE ===================
CLIENT_MSG    	STRUCT
	C_Sign		dd ?
	C_Target   	db 128  dup(0)
	C_Text    	db 8192 dup(0)
CLIENT_MSG 		ENDS

SERVER_MSG 		STRUCT
	S_Sign		dd ?
	S_Text      db 8192 dup(0)
SERVER_MSG 		ENDS

CLIENT 			STRUCT
	Sockfd		dd ?
	UserName    db 128  dup(0)
	IsUsed		dd 0
CLIENT 			ENDS

;===================== MACRRO ======================
;--------------------- C_SIGN ----------------------
C_LOGIN                	equ	800h
C_REGISTER        		equ 801h
C_LOGOUT                equ 805h
C_GETFRIEND             equ 810h
C_ADDFRIEND             equ 811h
<<<<<<< Updated upstream
=======
C_SENDMSG               equ 816h
C_GETHISTORY            equ 818h
C_DELFRIEND				equ 819h
>>>>>>> Stashed changes

;--------------------- S_SIGN ----------------------
S_LOGINOK               equ 802h
S_LOGERRPASSWD          equ 803h
S_LOGERRLOGED			equ 804h
S_LOGERRNOUSER          equ 806h
S_REGISTEROK            equ 807h
S_REGERRUSEREXISTS      equ 808h
S_SERVERSTOP            equ 809h
<<<<<<< Updated upstream

=======
S_ADDERRNOUSER          equ 812h
S_ADDOK					equ 813h
S_ADDFRIENDEXISTS       equ 814h
S_UAREADDED             equ 815h
S_FORWARDMSG            equ 817h
S_DELOK					equ 820h
>>>>>>> Stashed changes

;===================== CONST =======================
.const
ERR_TITLE               db 'ERROR',0 
SOCKET_ERR          	db 'ERROR When Create Socket!', 0
ERROR_CONNECT           db 'ERROR When Connect To Server!', 0
debug                   db 'DEBUG', 0
printint                db 'num:%d|',0
MODE                    dd 1

ENDIF